# Abra used teleport

Бот будет позволять загружать отправленные в него медиа файлы в выбранные облачные хранилища. 

Список хранилищ, которые хочется реализовать:
- Yandex Disk ██▒▒▒▒▒▒▒▒ 20%
- Google Drive ▒▒▒▒▒▒▒▒▒▒ 0%
- Dropbox ▒▒▒▒▒▒▒▒▒▒ 0%
- Vk cloud (если найду у них документацию Api) ▒▒▒▒▒▒▒▒▒▒ 0%
- Mega (маловероятно, но очень бы хотелось) ▒▒▒▒▒▒▒▒▒▒ 0%

The bot will allow you to upload media files sent to it to the selected cloud storages.

List of storages that you want to implement:
- Yandex Disk 
- Google drive 
- Dropbox 
- Vk cloud (if I find their Api documentation) 
- Mega (unlikely, but would love to) 


### Что-то вроде дневника  

Вообще идею о такой штуке мне подкинули года 3 назад. Вся соль в том, чтобы 
была возможность пользователям отправлять изображения в бота, а тот, в свою 
очередь заливал бы их в какое-либо облако. 

Идею я вынашивал очень долго. И вот, наконец, она меня окончательно замучила тем, 
что сидела в моей голове как заноза, что я решил хотябы попытаться ее реализовать.

Почему так долго вынашивал? Потому что не люблю всеми силами делать веб интерфейсы. Поэтому,
как тут можно увидеть, я решил попробовать использовать Laravel Livewire и совсем не заморачиваться 
со всякой красотой и JS хипстерской темой. А просто скачал какой-то там будстрап. Худо-бедно его подрубил, 
как это делали на заре интернета. 

~~Однако произошел тролинг и, на данном этапе, 1.07.23 я мучаюсь с кривой пагинацией. Какой-то конфликт boostrap 5.~~

~~Сейчас меня гложат сомнения по поводу того, какую библиотеку использовать. Самой популярной является
https://github.com/php-telegram-bot/core
Однако в ней я не увидел интеграции с Laravel и, для GetUpdates, желательно использовать подключение к MySQL.
Меня это немного напрягает. Буду смотреть https://github.com/irazasyed/telegram-bot-sdk эту. 
Хотя, по-хорошему, все возможности, которые предоставляют данные SDK, мне не нужны. И следовало бы все запросы 
написать самому. Работает то все чбанально через Curl.~~

Разобрался с Nutgram :)

Начал делать реализацию загрузки в яндекс. Есть нюансы с получением и сроком действия токена. `jack-theripper/yandex` 
поставить не получилось. Официально не поддерживает 8.2. Можно конечно попробовать форкнуть и сделать свою библиотеку,
но что-то подсказывает можно просто все сделать на курле. 

На данный момент сделал получение списка файлов в директории. Тестировал на корневой. Для ответа слегка накидал LaravelData,
Но на данный момент получилось только некоторые поля, у которых имена совпадают с теми, что я написал, получить. 
Проблемой является то, что я хочу сделать единую DTO для свойств файла сделать, а это не очень просто, ведь у API каждого 
облака своя структура ответа и наименований. NameMap, что есть в laravel не совсем подходит для этого, ведь когда я пытась
создать объект из, например, массива, для некоторых полей придется делать свою логику. Получится некрасиво в любом случае. 
Возможно для каждого API придется накидать свою DTO, а ту, что буду использовать в системе (а кто сказал, что она будет
нужна?) собирать уже непосредственно из нее. 

Думаю нужно сделать DTO с информацией о файле/папке каждого облачного сервиса. Пока что не думаю, что общий  
